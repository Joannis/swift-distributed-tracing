<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Tracer Protocol Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset="utf-8">
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
    <script src="../js/lunr.min.js" defer></script>
    <script src="../js/typeahead.jquery.js" defer></script>
    <script src="../js/jazzy.search.js" defer></script>
  </head>
  <body>

    <a name="//apple_ref/swift/Protocol/Tracer" class="dashAnchor"></a>

    <a title="Tracer Protocol Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="../index.html">
          Tracing 0.1.4 Docs
        </a>
         (65% documented)
      </p>
    
      <p class="header-col--secondary">
        <form role="search" action="../search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/apple/swift-distributed-tracing">
            <img class="header-icon" src="../img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="dash-feed://https%3A%2F%2Fapple.github.io%2Fswift-distributed-tracing%2Fdocs%2F0.1.4%2FTracing%2Fdocsets%2FTracing.xml">
            <img class="header-icon" src="../img/dash.png"/>
            Install in Dash
          </a>
        </p>
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="../index.html">Tracing Reference</a>
      <img class="carat" src="../img/carat.png" />
      Tracer Protocol Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/SpanAttribute.html">SpanAttribute</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/SpanKind.html">SpanKind</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/Array.html">Array</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/Bool.html">Bool</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/Double.html">Double</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/Float.html">Float</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/InstrumentationSystem.html">InstrumentationSystem</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/Int.html">Int</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/Int16.html">Int16</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/Int32.html">Int32</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/Int64.html">Int64</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/Int8.html">Int8</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/String.html">String</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/NestedSpanAttributesProtocol.html">NestedSpanAttributesProtocol</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/Span.html">Span</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/SpanAttributeConvertible.html">SpanAttributeConvertible</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/SpanAttributeNamespace.html">SpanAttributeNamespace</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/Tracer.html">Tracer</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/NoOpTracer.html">NoOpTracer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/NoOpTracer/NoOpSpan.html">– NoOpSpan</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/SpanAttributeKey.html">SpanAttributeKey</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs.html#/SpanAttributes">SpanAttributes</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/SpanAttributes.html">SpanAttributes</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/SpanEvent.html">SpanEvent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/SpanLink.html">SpanLink</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/SpanStatus.html">SpanStatus</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/SpanStatus/Code.html">– Code</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content top-matter">
            <h1>Tracer</h1>
              <div class="declaration">
                <div class="language">
                  
                  <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">Tracer</span> <span class="p">:</span> <span class="kt">Instrument</span></code></pre>

                </div>
              </div>
            <p>An <code>Instrument</code> with added functionality for distributed tracing. Is uses the span-based tracing model and is
based on the OpenTracing/OpenTelemetry spec.</p>

              <div class="slightly-smaller">
                <a href="https://github.com/apple/swift-distributed-tracing/tree/0.1.4/Sources/Tracing/Tracer.swift#L20-L42">Show on GitHub</a>
              </div>
          </div>
        </section>

        <section class="section">
          <div class="section-content">
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:7Tracing6TracerP9startSpan_7baggage6ofKind2atAA0D0_pSS_11CoreBaggage0J0VAA0dG0O8Dispatch0K8WallTimeVtF"></a>
                    <a name="//apple_ref/swift/Method/startSpan(_:baggage:ofKind:at:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:7Tracing6TracerP9startSpan_7baggage6ofKind2atAA0D0_pSS_11CoreBaggage0J0VAA0dG0O8Dispatch0K8WallTimeVtF">startSpan(_:<wbr>baggage:<wbr>ofKind:<wbr>at:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Start a new <code><a href="../Protocols/Span.html">Span</a></code> with the given <code>Baggage</code> at a given time.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">startSpan</span><span class="p">(</span>
    <span class="n">_</span> <span class="nv">operationName</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span>
    <span class="nv">baggage</span><span class="p">:</span> <span class="kt">Baggage</span><span class="p">,</span>
    <span class="n">ofKind</span> <span class="nv">kind</span><span class="p">:</span> <span class="kt"><a href="../Enums/SpanKind.html">SpanKind</a></span><span class="p">,</span>
    <span class="n">at</span> <span class="nv">time</span><span class="p">:</span> <span class="kt">DispatchWallTime</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Protocols/Span.html">Span</a></span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>operationName</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The name of the operation being traced. This may be a handler function, database call, &hellip;</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>baggage</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The <code>Baggage</code> providing information on where to start the new <code><a href="../Protocols/Span.html">Span</a></code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>kind</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The <code><a href="../Enums/SpanKind.html">SpanKind</a></code> of the new <code><a href="../Protocols/Span.html">Span</a></code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>time</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The <code>DispatchTime</code> at which to start the new <code><a href="../Protocols/Span.html">Span</a></code>.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/apple/swift-distributed-tracing/tree/0.1.4/Sources/Tracing/Tracer.swift#L28">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:7Tracing6TracerP10forceFlushyyF"></a>
                    <a name="//apple_ref/swift/Method/forceFlush()" class="dashAnchor"></a>
                    <a class="token" href="#/s:7Tracing6TracerP10forceFlushyyF">forceFlush()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Export all ended spans to the configured backend that have not yet been exported.</p>

<p>This function should only be called in cases where it is absolutely necessary,
such as when using some FaaS providers that may suspend the process after an invocation, but before the backend exports the completed spans.</p>

<p>This function should not block indefinitely, implementations should offer a configurable timeout for flush operations.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">forceFlush</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/apple/swift-distributed-tracing/tree/0.1.4/Sources/Tracing/Tracer.swift#L41">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:7Tracing6TracerPAAE9startSpan_7baggage6ofKindAA0D0_pSS_11CoreBaggage0I0VAA0dG0OtF"></a>
                    <a name="//apple_ref/swift/Method/startSpan(_:baggage:ofKind:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:7Tracing6TracerPAAE9startSpan_7baggage6ofKindAA0D0_pSS_11CoreBaggage0I0VAA0dG0OtF">startSpan(_:<wbr>baggage:<wbr>ofKind:<wbr>)</a>
                    </code>
                      <span class="declaration-note">
                        Extension method
                      </span>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Start a new <code><a href="../Protocols/Span.html">Span</a></code> with the given <code>Baggage</code> starting at <code>DispatchWallTime.now()</code>.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">startSpan</span><span class="p">(</span>
    <span class="n">_</span> <span class="nv">operationName</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span>
    <span class="nv">baggage</span><span class="p">:</span> <span class="kt">Baggage</span><span class="p">,</span>
    <span class="n">ofKind</span> <span class="nv">kind</span><span class="p">:</span> <span class="kt"><a href="../Enums/SpanKind.html">SpanKind</a></span> <span class="o">=</span> <span class="o">.</span><span class="kd">internal</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Protocols/Span.html">Span</a></span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>operationName</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The name of the operation being traced. This may be a handler function, database call, &hellip;</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>baggage</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Baggage potentially containing trace identifiers of a parent <code><a href="../Protocols/Span.html">Span</a></code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>kind</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The <code><a href="../Enums/SpanKind.html">SpanKind</a></code> of the <code><a href="../Protocols/Span.html">Span</a></code> to be created. Defaults to <code>.internal</code>.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/apple/swift-distributed-tracing/tree/0.1.4/Sources/Tracing/Tracer.swift#L51-L57">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Span%20creation%3A%20with%20%60LoggingContext%60"></a>
                <a name="//apple_ref/swift/Section/Span creation: with `LoggingContext`" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/Span%20creation%3A%20with%20%60LoggingContext%60"></a>
                  <h3 class="section-name"><p>Span creation: with <code>LoggingContext</code></p>
</h3>
                </div>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:7Tracing6TracerPAAE9startSpan_7context6ofKindAA0D0_pSS_7Baggage14LoggingContext_pAA0dG0OtF"></a>
                    <a name="//apple_ref/swift/Method/startSpan(_:context:ofKind:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:7Tracing6TracerPAAE9startSpan_7context6ofKindAA0D0_pSS_7Baggage14LoggingContext_pAA0dG0OtF">startSpan(_:<wbr>context:<wbr>ofKind:<wbr>)</a>
                    </code>
                      <span class="declaration-note">
                        Extension method
                      </span>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Start a new <code><a href="../Protocols/Span.html">Span</a></code> with the given <code>Baggage</code> starting at <code>DispatchWallTime.now()</code>.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">startSpan</span><span class="p">(</span>
    <span class="n">_</span> <span class="nv">operationName</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span>
    <span class="nv">context</span><span class="p">:</span> <span class="kt">LoggingContext</span><span class="p">,</span>
    <span class="n">ofKind</span> <span class="nv">kind</span><span class="p">:</span> <span class="kt"><a href="../Enums/SpanKind.html">SpanKind</a></span> <span class="o">=</span> <span class="o">.</span><span class="kd">internal</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Protocols/Span.html">Span</a></span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>operationName</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The name of the operation being traced. This may be a handler function, database call, &hellip;</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Logging context containing a <code>Baggage</code> which may contain trace identifiers of a parent <code><a href="../Protocols/Span.html">Span</a></code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>kind</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The <code><a href="../Enums/SpanKind.html">SpanKind</a></code> of the <code><a href="../Protocols/Span.html">Span</a></code> to be created. Defaults to <code>.internal</code>.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/apple/swift-distributed-tracing/tree/0.1.4/Sources/Tracing/Tracer.swift#L70-L76">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Starting%20spans%3A%20%60withSpan%60"></a>
                <a name="//apple_ref/swift/Section/Starting spans: `withSpan`" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/Starting%20spans%3A%20%60withSpan%60"></a>
                  <h3 class="section-name"><p>Starting spans: <code>withSpan</code></p>
</h3>
                </div>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:7Tracing6TracerPAAE8withSpan_7context6ofKind_qd__SS_7Baggage14LoggingContext_pAA0dG0Oqd__AA0D0_pKXEtKlF"></a>
                    <a name="//apple_ref/swift/Method/withSpan(_:context:ofKind:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:7Tracing6TracerPAAE8withSpan_7context6ofKind_qd__SS_7Baggage14LoggingContext_pAA0dG0Oqd__AA0D0_pKXEtKlF">withSpan(_:<wbr>context:<wbr>ofKind:<wbr>_:<wbr>)</a>
                    </code>
                      <span class="declaration-note">
                        Extension method
                      </span>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Execute a specific task within a newly created <code><a href="../Protocols/Span.html">Span</a></code>.</p>

<p>DO NOT <code>end()</code> the passed in span manually. It will be ended automatically when the <code>function</code> returns.</p>
<div class="aside aside-throws">
    <p class="aside-title">Throws</p>
    the error the <code>function</code> has thrown (if any)

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">withSpan</span><span class="o">&lt;</span><span class="kt">T</span><span class="o">&gt;</span><span class="p">(</span>
    <span class="n">_</span> <span class="nv">operationName</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span>
    <span class="nv">context</span><span class="p">:</span> <span class="kt">LoggingContext</span><span class="p">,</span>
    <span class="n">ofKind</span> <span class="nv">kind</span><span class="p">:</span> <span class="kt"><a href="../Enums/SpanKind.html">SpanKind</a></span> <span class="o">=</span> <span class="o">.</span><span class="kd">internal</span><span class="p">,</span>
    <span class="n">_</span> <span class="nv">function</span><span class="p">:</span> <span class="p">(</span><span class="kt"><a href="../Protocols/Span.html">Span</a></span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt">T</span>
<span class="p">)</span> <span class="k">rethrows</span> <span class="o">-&gt;</span> <span class="kt">T</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>operationName</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The name of the operation being traced. This may be a handler function, database call, &hellip;</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Logging context containing a <code>Baggage</code> which may contain trace identifiers of a parent <code><a href="../Protocols/Span.html">Span</a></code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>kind</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The <code><a href="../Enums/SpanKind.html">SpanKind</a></code> of the <code><a href="../Protocols/Span.html">Span</a></code> to be created. Defaults to <code>.internal</code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>function</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>function to wrap in a span start/end and execute immediately</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>the value returned by <code>function</code></p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/apple/swift-distributed-tracing/tree/0.1.4/Sources/Tracing/Tracer.swift#L94-L101">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:7Tracing6TracerPAAE8withSpan_7baggage6ofKind_qd__SS_11CoreBaggage0I0VAA0dG0Oqd__AA0D0_pKXEtKlF"></a>
                    <a name="//apple_ref/swift/Method/withSpan(_:baggage:ofKind:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:7Tracing6TracerPAAE8withSpan_7baggage6ofKind_qd__SS_11CoreBaggage0I0VAA0dG0Oqd__AA0D0_pKXEtKlF">withSpan(_:<wbr>baggage:<wbr>ofKind:<wbr>_:<wbr>)</a>
                    </code>
                      <span class="declaration-note">
                        Extension method
                      </span>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Execute a specific task within a newly created <code><a href="../Protocols/Span.html">Span</a></code>.</p>

<p>DO NOT <code>end()</code> the passed in span manually. It will be ended automatically when the <code>function</code> returns.</p>
<div class="aside aside-throws">
    <p class="aside-title">Throws</p>
    the error the <code>function</code> has thrown (if any)

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">withSpan</span><span class="o">&lt;</span><span class="kt">T</span><span class="o">&gt;</span><span class="p">(</span>
    <span class="n">_</span> <span class="nv">operationName</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span>
    <span class="nv">baggage</span><span class="p">:</span> <span class="kt">Baggage</span><span class="p">,</span>
    <span class="n">ofKind</span> <span class="nv">kind</span><span class="p">:</span> <span class="kt"><a href="../Enums/SpanKind.html">SpanKind</a></span> <span class="o">=</span> <span class="o">.</span><span class="kd">internal</span><span class="p">,</span>
    <span class="n">_</span> <span class="nv">function</span><span class="p">:</span> <span class="p">(</span><span class="kt"><a href="../Protocols/Span.html">Span</a></span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt">T</span>
<span class="p">)</span> <span class="k">rethrows</span> <span class="o">-&gt;</span> <span class="kt">T</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>operationName</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The name of the operation being traced. This may be a handler function, database call, &hellip;</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>baggage</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Baggage potentially containing trace identifiers of a parent <code><a href="../Protocols/Span.html">Span</a></code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>kind</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The <code><a href="../Enums/SpanKind.html">SpanKind</a></code> of the <code><a href="../Protocols/Span.html">Span</a></code> to be created. Defaults to <code>.internal</code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>function</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>function to wrap in a span start/end and execute immediately</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>the value returned by <code>function</code></p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/apple/swift-distributed-tracing/tree/0.1.4/Sources/Tracing/Tracer.swift#L114-L128">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

      </article>
    </div>
    <section class="footer">
      <p>&copy; 2021 <a class="link" href="https://github.com/apple/swift-distributed-tracing" target="_blank" rel="external">Swift Distributed Tracing team</a>. All rights reserved. (Last updated: 2021-01-27)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.6</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
